{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matan\\\\Pictures\\\\test-project\\\\NfTsWebSiteStore-FE\\\\src\\\\components\\\\features\\\\Navbar\\\\Navbar.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport { Link, useMatch, useResolvedPath, useNavigate } from \"react-router-dom\";\nimport classes from \"./Navbar.module.css\";\nimport SearchBar from \"../SearchBar\";\nimport AuthContext from \"../../../context/AuthProvider\";\nimport { deleteUser } from \"../../../services/api\";\nimport { faShoppingCart, faUserMinus, faSignOutAlt, faHeart, faUserPlus, faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Navbar({\n  isLoggedIn,\n  setFavoriteItems,\n  itemQuantities,\n  setOrders\n}) {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setIsLoggedIn,\n    setAuth,\n    auth\n  } = useContext(AuthContext);\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setAuth(\"\");\n    setFavoriteItems([]);\n    setOrders([]);\n    navigate(\"/\");\n  };\n  const handleDeleteAccount = async () => {\n    if (window.confirm(\"Are you sure you want to delete your account? This cannot be undone.\")) {\n      try {\n        await deleteUser(auth.user.sub);\n        handleLogout();\n      } catch (error) {\n        console.error(\"Error deleting account:\", error);\n      }\n    }\n  };\n  const getTotalItems = () => {\n    if (!itemQuantities || Object.keys(itemQuantities).length === 0) {\n      return 0;\n    }\n    return Object.values(itemQuantities).reduce((total, quantity) => total + quantity, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: classes.nav,\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), isLoggedIn && /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: classes.navList,\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: classes.navItem,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/favoritesListsItems\",\n            children: [\"Favorites\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faHeart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: classes.navItem,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/orders\",\n            children: [\"ShoppingCart\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faShoppingCart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), getTotalItems() > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.cartBadge,\n              children: getTotalItems()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: handleDeleteAccount,\n          className: classes.actionLink,\n          children: [\"Delete User\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faUserMinus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: handleLogout,\n          className: classes.actionLink,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSignOutAlt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), \"Logout\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), !isLoggedIn && /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: classes.navList,\n        children: [/*#__PURE__*/_jsxDEV(CustomLink, {\n          to: \"/login\",\n          className: classes.actionLink,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSignInAlt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), \"Login\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CustomLink, {\n          to: \"/signUp\",\n          className: classes.actionLink,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faUserPlus,\n            className: \"fa-regular\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), \"Sign-Up\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Navbar, \"tXPVWQEAGjeZ98bADb3ZSI6p5t8=\", false, function () {\n  return [useNavigate];\n});\n_c = Navbar;\nfunction CustomLink({\n  to,\n  children,\n  ...props\n}) {\n  _s2();\n  const resolvedPath = useResolvedPath(to);\n  const isActive = useMatch({\n    path: resolvedPath.pathname,\n    end: true\n  });\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: isActive ? classes.active : \"\",\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: to,\n      ...props,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s2(CustomLink, \"Dfq6KH74NsOUUXPzETtO7DGllew=\", false, function () {\n  return [useResolvedPath, useMatch];\n});\n_c2 = CustomLink;\nexport default Navbar;\nvar _c, _c2;\n$RefreshReg$(_c, \"Navbar\");\n$RefreshReg$(_c2, \"CustomLink\");","map":{"version":3,"names":["React","useContext","Link","useMatch","useResolvedPath","useNavigate","classes","SearchBar","AuthContext","deleteUser","faShoppingCart","faUserMinus","faSignOutAlt","faHeart","faUserPlus","faSignInAlt","FontAwesomeIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","isLoggedIn","setFavoriteItems","itemQuantities","setOrders","_s","navigate","setIsLoggedIn","setAuth","auth","handleLogout","handleDeleteAccount","window","confirm","user","sub","error","console","getTotalItems","Object","keys","length","values","reduce","total","quantity","children","className","nav","fileName","_jsxFileName","lineNumber","columnNumber","navList","navItem","to","icon","cartBadge","onClick","actionLink","CustomLink","_c","props","_s2","resolvedPath","isActive","path","pathname","end","active","_c2","$RefreshReg$"],"sources":["C:/Users/Matan/Pictures/test-project/NfTsWebSiteStore-FE/src/components/features/Navbar/Navbar.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Link, useMatch, useResolvedPath, useNavigate } from \"react-router-dom\";\r\nimport classes from \"./Navbar.module.css\";\r\nimport SearchBar from \"../SearchBar\";\r\nimport AuthContext from \"../../../context/AuthProvider\";\r\nimport { deleteUser } from \"../../../services/api\";\r\nimport {\r\n  faShoppingCart,\r\n  faUserMinus,\r\n  faSignOutAlt,\r\n  faHeart,\r\n  faUserPlus,\r\n  faSignInAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nfunction Navbar({ isLoggedIn, setFavoriteItems, itemQuantities, setOrders }) {\r\n  const navigate = useNavigate();\r\n\r\n  const { setIsLoggedIn, setAuth, auth } = useContext(AuthContext);\r\n\r\n  const handleLogout = () => {\r\n    setIsLoggedIn(false);\r\n    setAuth(\"\");\r\n    setFavoriteItems([]);\r\n    setOrders([]);\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const handleDeleteAccount = async () => {\r\n    if (\r\n      window.confirm(\r\n        \"Are you sure you want to delete your account? This cannot be undone.\"\r\n      )\r\n    ) {\r\n      try {\r\n        await deleteUser(auth.user.sub);\r\n        handleLogout();\r\n      } catch (error) {\r\n        console.error(\"Error deleting account:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getTotalItems = () => {\r\n    if (!itemQuantities || Object.keys(itemQuantities).length === 0) {\r\n      return 0;\r\n    }\r\n    return Object.values(itemQuantities).reduce(\r\n      (total, quantity) => total + quantity,\r\n      0\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <nav className={classes.nav}>\r\n        <SearchBar />\r\n        {isLoggedIn && (\r\n          <ul className={classes.navList}>\r\n            <li className={classes.navItem}>\r\n              <Link to=\"/favoritesListsItems\">\r\n                Favorites\r\n                <FontAwesomeIcon icon={faHeart} />\r\n              </Link>\r\n            </li>\r\n            <li className={classes.navItem}>\r\n              <Link to=\"/orders\">\r\n                ShoppingCart\r\n                <FontAwesomeIcon icon={faShoppingCart} />\r\n                {getTotalItems() > 0 && (\r\n                  <span className={classes.cartBadge}>{getTotalItems()}</span>\r\n                )}\r\n              </Link>\r\n            </li>\r\n            <li onClick={handleDeleteAccount} className={classes.actionLink}>\r\n              Delete User\r\n              <FontAwesomeIcon icon={faUserMinus} />\r\n            </li>\r\n            <li onClick={handleLogout} className={classes.actionLink}>\r\n              <FontAwesomeIcon icon={faSignOutAlt} />\r\n              Logout\r\n            </li>\r\n          </ul>\r\n        )}\r\n        {!isLoggedIn && (\r\n          <ul className={classes.navList}>\r\n            <CustomLink to=\"/login\" className={classes.actionLink}>\r\n              <FontAwesomeIcon icon={faSignInAlt} />\r\n              Login\r\n            </CustomLink>\r\n            <CustomLink to=\"/signUp\" className={classes.actionLink}>\r\n              <FontAwesomeIcon icon={faUserPlus} className=\"fa-regular\" />\r\n              Sign-Up\r\n            </CustomLink>\r\n          </ul>\r\n        )}\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction CustomLink({ to, children, ...props }) {\r\n  const resolvedPath = useResolvedPath(to);\r\n  const isActive = useMatch({ path: resolvedPath.pathname, end: true });\r\n\r\n  return (\r\n    <li className={isActive ? classes.active : \"\"}>\r\n      <Link to={to} {...props}>\r\n        {children}\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}